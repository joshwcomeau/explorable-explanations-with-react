class ReactRallyWaveform extends Component {
  render() {
    const { width, height } = this.props;

    return (
      <WaveformState>
        {({
          amplitude,
          frequency,
          shape,
          isRunning,
          updateAmplitude,
          updateFrequency,
          updateShape,
          toggleRunning,
        }) => (
          <Stopwatch isRunning={isRunning}>
            {({ timeElapsed }) => (
              <WaveformCalculator
                shape={shape}
                frequency={frequency}
                amplitude={amplitude}
                timeElapsed={timeElapsed}
                width={width}
                height={height}
              >
                {points => (
                  <Fragment>
                    <Waveform
                      points={points}
                      width={width}
                      height={height}
                      color={COLORS.blue}
                      strokeWidth={4}
                    />
                    <WaveformAxis
                      axis="x"
                      width={width}
                      height={height}
                    />
                    <WaveformAxis
                      axis="y"
                      width={width}
                      height={height}
                    />

                    <div>
                      <Slider
                        label="amplitude"
                        value={amplitude}
                        onChange={updateAmplitude}
                      />

                      <Slider
                        label="frequency"
                        value={frequency}
                        onChange={updateFrequency}
                      />
                    </div>
                  </Fragment>
                )}
              </WaveformCalculator>
            )}
          </Stopwatch>
        )}
      </WaveformState>
    );
  }
}
